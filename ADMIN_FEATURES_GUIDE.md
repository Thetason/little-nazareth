# ğŸ¯ ê´€ë¦¬ì ê¸°ëŠ¥ & ë§ˆì¼€íŒ… ì‹œìŠ¤í…œ ê°€ì´ë“œ

## âœ… êµ¬í˜„ ì™„ë£Œëœ ê¸°ëŠ¥ë“¤

### 1. ğŸ“Š ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
- **URL**: `http://localhost:3001/admin`
- ì‹¤ì‹œê°„ í†µê³„ ëª¨ë‹ˆí„°ë§
- ê¸°ëŠ¥ ì¼œê¸°/ë„ê¸° í† ê¸€
- ì¿ í° ë° ì¶”ì²œ ê´€ë¦¬

### 2. ğŸ£ ì–¼ë¦¬ë²„ë“œ ì¿ í° ì‹œìŠ¤í…œ
- íšŒì›ê°€ì… ì‹œ ìë™ ë°œê¸‰
- ê´€ë¦¬ìê°€ ì¼œê³  ëŒ ìˆ˜ ìˆìŒ
- í• ì¸ìœ¨ ì„¤ì • ê°€ëŠ¥ (ê¸°ë³¸ 10%)

### 3. ğŸ ì¹œêµ¬ ì´ˆëŒ€ ì´ë²¤íŠ¸
- ì¶”ì²œ ë§í¬ ìë™ ìƒì„±
- ì¶”ì²œì ì¶”ì  ë° ë³´ìƒ
- ì¶”ì²œì™• ë­í‚¹ ì‹œìŠ¤í…œ

---

## ğŸ–¥ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ì‚¬ìš©ë²•

### ì ‘ì† ë°©ë²•
```
ë¸Œë¼ìš°ì €ì—ì„œ: http://localhost:3001/admin
```

### ëŒ€ì‹œë³´ë“œ êµ¬ì„±

#### ğŸ“ˆ í†µê³„ ì¹´ë“œ (ìƒë‹¨)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì´ íšŒì›    â”‚  ì±„ë„ ì¶”ê°€  â”‚  ì˜¤ëŠ˜ ê°€ì…  â”‚  ì´ ì¶”ì²œ    â”‚
â”‚  ğŸ‘¥ 150ëª…   â”‚  ğŸ’¬ 127ëª…   â”‚  âœ¨ 12ëª…    â”‚  ğŸ 45ê±´   â”‚
â”‚             â”‚  84.7%      â”‚             â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ğŸ“Š ì¼ë³„ ê°€ì…ì ê·¸ë˜í”„
- ìµœê·¼ 7ì¼ê°„ ê°€ì…ì ì¶”ì´
- ë§‰ëŒ€ ê·¸ë˜í”„ë¡œ ì‹œê°í™”
- ë‚ ì§œë³„ ì •í™•í•œ ìˆ˜ì¹˜ í‘œì‹œ

#### ğŸ† ì¶”ì²œì™• TOP 5
- ê°€ì¥ ë§ì´ ì¶”ì²œí•œ ì‚¬ìš©ì ìˆœìœ„
- í”„ë¡œí•„ ì‚¬ì§„ ë° ì¶”ì²œ íšŸìˆ˜ í‘œì‹œ
- ğŸ¥‡ğŸ¥ˆğŸ¥‰ ë©”ë‹¬ ì‹œìŠ¤í…œ

#### âš™ï¸ ê¸°ëŠ¥ ì„¤ì •
**ì–¼ë¦¬ë²„ë“œ ì¿ í°**
- í† ê¸€: ON/OFF
- í• ì¸ìœ¨ ì„¤ì •: 1-100%
- ê¸°ë³¸ê°’: 10%

**ì¹œêµ¬ ì´ˆëŒ€ ì´ë²¤íŠ¸**
- í† ê¸€: ON/OFF
- ì¶”ê°€ í• ì¸ìœ¨: 1-100%
- ê¸°ë³¸ê°’: 5%

> **ì¤‘ìš”**: ì„¤ì • ë³€ê²½ í›„ ë°˜ë“œì‹œ "ğŸ’¾ ì„¤ì • ì €ì¥" í´ë¦­!

#### ğŸ« ì¿ í° í†µê³„
- ì´ ë°œê¸‰ ì¿ í° ìˆ˜
- ì‚¬ìš©ëœ ì¿ í° ìˆ˜
- ë¯¸ì‚¬ìš© ì¿ í° ìˆ˜
- ì‚¬ìš©ë¥  í‘œì‹œ

---

## ğŸ£ ì–¼ë¦¬ë²„ë“œ ì¿ í° ì‹œìŠ¤í…œ

### ì‘ë™ ë°©ì‹
```
ì‚¬ìš©ìê°€ ì¹´ì¹´ì˜¤ë¡œ íšŒì›ê°€ì…
    â†“
ì‹œìŠ¤í…œì´ "ì–¼ë¦¬ë²„ë“œ í™œì„±í™”" í™•ì¸
    â†“
í™œì„±í™”ë˜ì–´ ìˆìœ¼ë©´?
    â†“
ìë™ìœ¼ë¡œ ì¿ í° ë°œê¸‰!
- ì½”ë“œ: EARLYBIRD-XXXXXXXX
- í• ì¸: ì„¤ì •í•œ % (ê¸°ë³¸ 10%)
- ìœ íš¨ê¸°ê°„: 30ì¼
```

### ê´€ë¦¬ ë°©ë²•

#### 1. ê¸°ëŠ¥ ì¼œê¸°
1. `/admin` ì ‘ì†
2. "ğŸ£ ì–¼ë¦¬ë²„ë“œ ì¿ í°" ì„¹ì…˜ ì°¾ê¸°
3. í† ê¸€ ë²„íŠ¼ í´ë¦­ (íšŒìƒ‰ â†’ ì´ˆë¡ìƒ‰)
4. í• ì¸ìœ¨ ì…ë ¥ (ì˜ˆ: 10)
5. "ğŸ’¾ ì„¤ì • ì €ì¥" í´ë¦­

#### 2. í• ì¸ìœ¨ ë³€ê²½
- í• ì¸ìœ¨ ì…ë ¥ë€ì— ì›í•˜ëŠ” ìˆ«ì ì…ë ¥
- ì˜ˆ: 15% í• ì¸í•˜ë ¤ë©´ "15" ì…ë ¥
- "ğŸ’¾ ì„¤ì • ì €ì¥" í´ë¦­

#### 3. ê¸°ëŠ¥ ë„ê¸°
- í† ê¸€ ë²„íŠ¼ ë‹¤ì‹œ í´ë¦­ (ì´ˆë¡ìƒ‰ â†’ íšŒìƒ‰)
- "ğŸ’¾ ì„¤ì • ì €ì¥" í´ë¦­

### ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ë˜ëŠ” ì •ë³´
```sql
-- ì‚¬ìš©ì í…Œì´ë¸”
User {
  earlyBirdCouponUsed: false  -- ì–¼ë¦¬ë²„ë“œ ì¿ í° ì‚¬ìš© ì—¬ë¶€
}

-- ì¿ í° í…Œì´ë¸”
Coupon {
  code: "EARLYBIRD-A1B2C3D4"
  type: "EARLY_BIRD"
  discount: 10
  isUsed: false
  expiresAt: "2025-02-01"
}
```

---

## ğŸ ì¹œêµ¬ ì´ˆëŒ€ ì‹œìŠ¤í…œ

### ì‘ë™ ë°©ì‹
```
ì‚¬ìš©ì Aê°€ íšŒì›ê°€ì…
    â†“
ìë™ìœ¼ë¡œ ì¶”ì²œ ì½”ë“œ ìƒì„±: A1B2C3
    â†“
ì¹œêµ¬ì—ê²Œ ê³µìœ :
http://localhost:3001?ref=A1B2C3
    â†“
ì‚¬ìš©ì Bê°€ ì´ ë§í¬ë¡œ ê°€ì…
    â†“
ì‹œìŠ¤í…œì´ í™•ì¸:
- Bë¥¼ Aì˜ ì¶”ì²œìœ¼ë¡œ ê¸°ë¡
- Aì˜ ì¶”ì²œ ì¹´ìš´íŠ¸ +1
- (ì˜µì…˜) Bì—ê²Œ ì¶”ê°€ í• ì¸ ì¿ í° ë°œê¸‰
```

### ì¶”ì²œ ë§í¬ ìƒì„± ë°©ë²•

#### ìë™ ìƒì„± (íšŒì›ê°€ì… ì‹œ)
- ëª¨ë“  ì‚¬ìš©ìëŠ” ê°€ì… ì‹œ ê³ ìœ í•œ 6ìë¦¬ ì¶”ì²œ ì½”ë“œ ë°›ìŒ
- ì˜ˆ: `A1B2C3`, `X9Y8Z7`

#### ì¶”ì²œ ë§í¬ í˜•ì‹
```
ê¸°ë³¸ ë§í¬:
http://localhost:3001?ref=A1B2C3

ë°°í¬ í›„:
https://prayingpals.com?ref=A1B2C3
```

### ì¶”ì²œ í†µê³„ í™•ì¸
- ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ > "ğŸ† ì¶”ì²œì™• TOP 5"
- ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
- ì¶”ì²œ íšŸìˆ˜ ìˆœìœ„ í‘œì‹œ

### ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°
```sql
-- ì‚¬ìš©ì ì¶”ì²œ ì •ë³´
User {
  referralCode: "A1B2C3"      -- ë‚´ ì¶”ì²œ ì½”ë“œ
  referredBy: "X9Y8Z7"        -- ëˆ„ê°€ ë‚˜ë¥¼ ì¶”ì²œí–ˆëŠ”ì§€
  referralCount: 5            -- ë‚´ê°€ ì¶”ì²œí•œ ì‚¬ëŒ ìˆ˜
}

-- ì¶”ì²œ ê´€ê³„ í…Œì´ë¸”
Referral {
  referrerId: 1    -- ì¶”ì²œí•œ ì‚¬ëŒ ID
  referredId: 2    -- ì¶”ì²œë°›ì€ ì‚¬ëŒ ID
  rewardClaimed: false
}
```

---

## ğŸ“Š API ì—”ë“œí¬ì¸íŠ¸

### í†µê³„ ì¡°íšŒ
```typescript
GET /api/admin/stats

Response:
{
  overview: {
    totalUsers: 150,
    channelAddedUsers: 127,
    channelAddRate: 84.7,
    todayUsers: 12
  },
  coupons: {
    total: 80,
    used: 25,
    unused: 55,
    usageRate: "31.3"
  },
  referrals: {
    total: 45,
    topReferrers: [...]
  },
  dailySignups: [...]
}
```

### ì„¤ì • ì¡°íšŒ
```typescript
GET /api/admin/settings

Response:
{
  earlyBirdEnabled: true,
  earlyBirdDiscount: 10,
  referralEnabled: false,
  referralDiscount: 5
}
```

### ì„¤ì • ì—…ë°ì´íŠ¸
```typescript
POST /api/admin/settings
Content-Type: application/json

Body:
{
  "earlyBirdEnabled": true,
  "earlyBirdDiscount": 15,
  "referralEnabled": true,
  "referralDiscount": 5
}
```

### ì‚¬ìš©ì ëª©ë¡
```typescript
GET /api/admin/users?page=1&limit=20

Response:
{
  users: [...],
  pagination: {
    page: 1,
    limit: 20,
    total: 150,
    totalPages: 8
  }
}
```

---

## ğŸ¯ ì‹¤ì „ ë§ˆì¼€íŒ… ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: í…€ë¸”ë²… ì˜¤í”ˆ ì „ 9ì£¼ ì „ëµ

#### Week 1-2: ì–¼ë¦¬ë²„ë“œ í™œì„±í™”
```bash
1. ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œì—ì„œ ì–¼ë¦¬ë²„ë“œ ON
2. í• ì¸ìœ¨ 15% ì„¤ì •
3. í™ë³´: "ì§€ê¸ˆ ê°€ì…í•˜ë©´ 15% í• ì¸!"
```

#### Week 3-5: ì¹œêµ¬ ì´ˆëŒ€ ì´ë²¤íŠ¸ ì¶”ê°€
```bash
1. ì¹œêµ¬ ì´ˆëŒ€ ê¸°ëŠ¥ ON
2. ì¶”ê°€ í• ì¸ 5% ì„¤ì •
3. í™ë³´: "ì¹œêµ¬ ì´ˆëŒ€í•˜ë©´ 5% ë”!"
```

#### Week 6-8: ëª¨ë©˜í…€ ìœ ì§€
```bash
- ë§¤ì¼ ëŒ€ì‹œë³´ë“œì—ì„œ ê°€ì…ì ì¶”ì´ í™•ì¸
- TOP ì¶”ì²œìì—ê²Œ ê°œë³„ ê°ì‚¬ ë©”ì‹œì§€
- SNS ê³µìœ  ìœ ë„
```

#### Week 9: í…€ë¸”ë²… ì˜¤í”ˆ!
```bash
1. ì±„ë„ íŒ”ë¡œì›Œ ì „ì²´ì—ê²Œ ì•Œë¦¼
2. ì´ë©”ì¼ ë°œì†¡
3. ì¿ í° ì½”ë“œ ê³µê°œ
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: ë‹¨ê³„ë³„ í• ì¸ìœ¨ ì¡°ì •
```
Week 1-3: ì–¼ë¦¬ë²„ë“œ 20% (ìµœëŒ€ í• ì¸)
Week 4-6: ì–¼ë¦¬ë²„ë“œ 15% (ì¤‘ê°„ í• ì¸)
Week 7-9: ì–¼ë¦¬ë²„ë“œ 10% (ê¸°ë³¸ í• ì¸)
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: ë§ˆì¼ìŠ¤í†¤ ì´ë²¤íŠ¸
```
íšŒì› 100ëª… ë‹¬ì„±: ì¶”ê°€ ì´ë²¤íŠ¸ ì§„í–‰
íšŒì› 500ëª… ë‹¬ì„±: íŠ¹ë³„ ì¿ í° ë°œê¸‰
íšŒì› 1000ëª… ë‹¬ì„±: ì–¼ë¦¬ë²„ë“œ ê°€ê²©ìœ¼ë¡œ ì¡°ê¸° íŒë§¤
```

---

## ğŸ’¾ ë°ì´í„° ë°±ì—… ë° ë¶„ì„

### Prisma Studioë¡œ DB í™•ì¸
```bash
npx prisma studio
```

ë¸Œë¼ìš°ì €ì—ì„œ:
- `User` í…Œì´ë¸”: ëª¨ë“  íšŒì› ì •ë³´
- `Coupon` í…Œì´ë¸”: ë°œê¸‰ëœ ì¿ í° ëª©ë¡
- `Referral` í…Œì´ë¸”: ì¶”ì²œ ê´€ê³„
- `SystemSettings` í…Œì´ë¸”: ì‹œìŠ¤í…œ ì„¤ì •

### SQL ì¿¼ë¦¬ ì˜ˆì‹œ (ê³ ê¸‰)

#### ì±„ë„ ì¶”ê°€ìœ¨ì´ ë†’ì€ ë‚ ì§œ ì°¾ê¸°
```sql
SELECT
  DATE(created_at) as date,
  COUNT(*) as signups,
  SUM(CASE WHEN kakao_channel_added THEN 1 ELSE 0 END) as channel_adds,
  ROUND(SUM(CASE WHEN kakao_channel_added THEN 1 ELSE 0 END) * 100.0 / COUNT(*), 2) as add_rate
FROM users
GROUP BY DATE(created_at)
ORDER BY add_rate DESC;
```

#### TOP ì¶”ì²œì ìƒì„¸ ì •ë³´
```sql
SELECT
  u.name,
  u.email,
  u.referral_code,
  u.referral_count,
  COUNT(r.id) as verified_referrals
FROM users u
LEFT JOIN referrals r ON r.referrer_id = u.id
WHERE u.referral_count > 0
GROUP BY u.id
ORDER BY u.referral_count DESC
LIMIT 10;
```

---

## ğŸš€ ë°°í¬ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì–¼ë¦¬ë²„ë“œ ì¿ í°
- [ ] í• ì¸ìœ¨ ìµœì¢… í™•ì¸
- [ ] ìœ íš¨ê¸°ê°„ ì„¤ì • í™•ì¸ (í˜„ì¬: 30ì¼)
- [ ] í…ŒìŠ¤íŠ¸ ê³„ì •ìœ¼ë¡œ ì¿ í° ë°œê¸‰ í…ŒìŠ¤íŠ¸

### ì¹œêµ¬ ì´ˆëŒ€
- [ ] ì¶”ì²œ ë§í¬ ë„ë©”ì¸ ë³€ê²½ (localhost â†’ ì‹¤ì œ ë„ë©”ì¸)
- [ ] ì¶”ê°€ í• ì¸ìœ¨ ìµœì¢… í™•ì¸
- [ ] ì¶”ì²œ ë³´ìƒ ì •ì±… í™•ì •

### ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
- [ ] ì ‘ê·¼ ê¶Œí•œ ì„¤ì • (í˜„ì¬: ëˆ„êµ¬ë‚˜ ì ‘ê·¼ ê°€ëŠ¥)
- [ ] ë¹„ë°€ë²ˆí˜¸ ë³´í˜¸ ì¶”ê°€ (ê¶Œì¥)
- [ ] HTTPS ì ìš©

---

## ğŸ” ë³´ì•ˆ ê¶Œì¥ì‚¬í•­

### ê´€ë¦¬ì í˜ì´ì§€ ë³´í˜¸ (ì¤‘ìš”!)

í˜„ì¬ `/admin`ì€ ëˆ„êµ¬ë‚˜ ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤.
ë°°í¬ ì „ ë°˜ë“œì‹œ ë³´í˜¸ ì¶”ê°€:

#### Option 1: Middlewareë¡œ IP ì œí•œ
```typescript
// middleware.ts
import { NextResponse } from 'next/server';

export function middleware(request: Request) {
  const url = new URL(request.url);

  if (url.pathname.startsWith('/admin')) {
    // íŠ¹ì • IPë§Œ í—ˆìš©
    const allowedIPs = ['YOUR_IP_HERE'];
    const clientIP = request.headers.get('x-forwarded-for');

    if (!allowedIPs.includes(clientIP)) {
      return new NextResponse('Unauthorized', { status: 401 });
    }
  }

  return NextResponse.next();
}
```

#### Option 2: ê°„ë‹¨í•œ ë¹„ë°€ë²ˆí˜¸
```typescript
// app/admin/page.tsx ìƒë‹¨ì— ì¶”ê°€
const [password, setPassword] = useState('');
const [authenticated, setAuthenticated] = useState(false);

if (!authenticated) {
  return (
    <div className="flex items-center justify-center min-h-screen">
      <input
        type="password"
        placeholder="ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸"
        onChange={(e) => setPassword(e.target.value)}
        onKeyDown={(e) => {
          if (e.key === 'Enter' && password === 'YOUR_SECRET_PASSWORD') {
            setAuthenticated(true);
          }
        }}
      />
    </div>
  );
}
```

---

## ğŸ“ ë¬¸ì˜ ë° ì§€ì›

ê¸°ëŠ¥ ì¶”ê°€/ìˆ˜ì • ìš”ì²­:
- ì¿ í° ë§Œë£Œì¼ ë³€ê²½
- ì¶”ì²œ ë³´ìƒ ìë™í™”
- ì´ë©”ì¼ ì•Œë¦¼ ì—°ë™
- ì¹´ì¹´ì˜¤í†¡ ë©”ì‹œì§€ ë°œì†¡ ì—°ë™

**ëª¨ë“  ê¸°ëŠ¥ì´ ì¤€ë¹„ë˜ì–´ ìˆìŠµë‹ˆë‹¤!**
**ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œì—ì„œ ì¼œê³  ë„ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤!** ğŸ‰
